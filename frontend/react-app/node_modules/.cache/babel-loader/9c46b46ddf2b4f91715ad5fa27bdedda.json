{"ast":null,"code":"var _jsxFileName = \"/home/jackculley/VSCode/machineLearningPrac/frontend/react-app/src/components/PasswordUpdate.js\",\n    _s = $RefreshSig$();\n\nimport * as React from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as settings from '../settings';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.success.main\n  },\n  form: {\n    width: '100%',\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  },\n  success: {\n    color: theme.palette.success.main\n  }\n}));\n\nfunction PasswordUpdate() {\n  _s();\n\n  const classes = useStyles();\n  const [new_password1, setNewPassword1] = React.useState(null);\n  const [new_password2, setNewPassword2] = React.useState(null);\n  const [success, setSuccess] = React.useState(false);\n  const isAuthenticated = useSelector(state => state.auth.token !== null && typeof state.auth.token !== 'undefined');\n  const token = useSelector(state => state.auth.token);\n\n  const handleFormFieldChange = event => {\n    setSuccess(false);\n\n    switch (event.target.id) {\n      case 'new_password1':\n        setNewPassword1(event.target.value);\n        break;\n\n      case 'new_password2':\n        setNewPassword2(event.target.value);\n        break;\n\n      default:\n        return null;\n    }\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (new_password1 !== new_password2) {\n      alert(\"Passwords don't match\");\n    } else {\n      let headers = {\n        'Authorization': `Token ${token}`\n      };\n      let method = 'post';\n      let url = 'http://localhost:8000' + '/api/auth/update_password/';\n      let passwordFormData = new FormData();\n      passwordFormData.append(\"new_password1\", new_password1);\n      passwordFormData.append(\"new_password2\", new_password2);\n      let config = {\n        headers,\n        method,\n        url,\n        data: passwordFormData\n      }; //Axios update_password API call\n\n      axios(config).then(res => {\n        setSuccess(true);\n      }).catch(error => {\n        alert(error);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.paper,\n      children: [success ? /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"button\",\n        className: classes.success,\n        gutterBottom: true,\n        children: \"Password update successful!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 22\n      }, this) : null, /*#__PURE__*/_jsxDEV(Avatar, {\n        className: classes.avatar,\n        children: /*#__PURE__*/_jsxDEV(VpnKeyIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        children: \"Update Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        noValidate: true,\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          name: \"new_password1\",\n          label: \"Enter New Password\",\n          type: \"password\",\n          id: \"new_password1\",\n          onChange: handleFormFieldChange,\n          error: new_password1 !== new_password2,\n          helperText: new_password1 !== new_password2 ? \"Passwords don't match\" : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          name: \"new_password2\",\n          label: \"Enter Your Password Again\",\n          type: \"password\",\n          id: \"new_password2\",\n          onChange: handleFormFieldChange,\n          error: new_password1 !== new_password2,\n          helperText: new_password1 !== new_password2 ? \"Passwords don't match\" : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          className: classes.submit,\n          children: \"Update Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 7\n  }, this);\n}\n\n_s(PasswordUpdate, \"Q3xF8kqHzZcJmNA4w+dqDBNR670=\", false, function () {\n  return [useStyles, useSelector, useSelector];\n});\n\n_c = PasswordUpdate;\nexport default PasswordUpdate;\n\nvar _c;\n\n$RefreshReg$(_c, \"PasswordUpdate\");","map":{"version":3,"names":["React","Avatar","Button","CssBaseline","TextField","Typography","Container","VpnKeyIcon","axios","makeStyles","settings","useSelector","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","success","main","form","width","submit","color","PasswordUpdate","classes","new_password1","setNewPassword1","useState","new_password2","setNewPassword2","setSuccess","isAuthenticated","state","auth","token","handleFormFieldChange","event","target","id","value","handleSubmit","e","preventDefault","alert","headers","method","url","passwordFormData","FormData","append","config","data","then","res","catch","error"],"sources":["/home/jackculley/VSCode/machineLearningPrac/frontend/react-app/src/components/PasswordUpdate.js"],"sourcesContent":["import * as React from 'react';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport Container from '@mui/material/Container';\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as settings from '../settings';\nimport { useSelector } from 'react-redux';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.success.main,\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n    success: {\n      color: theme.palette.success.main,\n    }\n  }));\n  \n  function PasswordUpdate() {\n    const classes = useStyles();\n    const [new_password1, setNewPassword1] = React.useState(null);\n    const [new_password2, setNewPassword2] = React.useState(null);\n    const [success, setSuccess] = React.useState(false);\n\n    const isAuthenticated = useSelector((state) => state.auth.token !== null && typeof state.auth.token !== 'undefined')\n    const token = useSelector((state) => state.auth.token)\n\n    const handleFormFieldChange = (event) => {\n      setSuccess(false);\n      switch (event.target.id) {\n        case 'new_password1': setNewPassword1(event.target.value); break;\n        case 'new_password2': setNewPassword2(event.target.value); break;\n        default: return null;\n      }\n  \n    };\n  \n    const handleSubmit = (e) => {\n      e.preventDefault();\n      if (new_password1 !== new_password2) {\n        alert(\"Passwords don't match\")\n      } else {\n        let headers = { 'Authorization': `Token ${token}` };\n        let method = 'post';\n        let url = 'http://localhost:8000' + '/api/auth/update_password/';\n        let passwordFormData = new FormData();\n        passwordFormData.append(\"new_password1\", new_password1);\n        passwordFormData.append(\"new_password2\", new_password2);\n        let config = { headers, method, url, data: passwordFormData};\n        //Axios update_password API call\n        axios(config).then(res => {\n          setSuccess(true);\n        }).catch(\n          error => {\n            alert(error)\n          })\n      }\n  \n    }\n  \n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          {success ? <Typography variant=\"button\" className={classes.success} gutterBottom>Password update successful!</Typography> : null}\n          <Avatar className={classes.avatar}>\n            <VpnKeyIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Update Password\n          </Typography>\n          <form className={classes.form} noValidate onSubmit={handleSubmit}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"new_password1\"\n              label=\"Enter New Password\"\n              type=\"password\"\n              id=\"new_password1\"\n              onChange={handleFormFieldChange}\n              error={new_password1 !== new_password2}\n              helperText={new_password1 !== new_password2 ? \"Passwords don't match\" : null}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"new_password2\"\n              label=\"Enter Your Password Again\"\n              type=\"password\"\n              id=\"new_password2\"\n              onChange={handleFormFieldChange}\n              error={new_password1 !== new_password2}\n              helperText={new_password1 !== new_password2 ? \"Passwords don't match\" : null}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Update Password\n            </Button>\n          </form>\n        </div>\n      </Container>\n    );\n  }\n  \n  \n  export default PasswordUpdate;"],"mappings":"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"},"metadata":{},"sourceType":"module"}