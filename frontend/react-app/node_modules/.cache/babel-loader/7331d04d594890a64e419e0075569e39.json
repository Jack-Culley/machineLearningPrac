{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lodash = require('lodash.isfunction');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.isobject');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _actions = require('./actions');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction swallow() {}\n\nfunction warnAboutConfusingFiltering(blacklist, whitelist) {\n  blacklist.filter(function (item) {\n    return whitelist.indexOf(item) !== -1;\n  }).forEach(function (item) {\n    console.warn( // eslint-disable-line no-console\n    '[redux-storage] Action ' + item + ' is on BOTH black- and whitelist.' + ' This is most likely a mistake!');\n  });\n}\n\nfunction isValidAction(action) {\n  var isFunc = (0, _lodash2['default'])(action);\n  var isObj = (0, _lodash4['default'])(action);\n  var hasType = isObj && action.hasOwnProperty('type');\n\n  if (!isFunc && isObj && hasType) {\n    return true;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (isFunc) {\n      console.warn( // eslint-disable-line no-console\n      '[redux-storage] ACTION IGNORED! Actions should be objects' + ' with a type property but received a function! Your' + ' function resolving middleware (e.g. redux-thunk) must be' + ' placed BEFORE redux-storage!');\n    } else if (!isObj) {\n      console.warn( // eslint-disable-line no-console\n      '[redux-storage] ACTION IGNORED! Actions should be objects' + (' with a type property but received: ' + action));\n    } else if (!hasType) {\n      console.warn( // eslint-disable-line no-console\n      '[redux-storage] ACTION IGNORED! Action objects should have' + ' a type property.');\n    }\n  }\n\n  return false;\n}\n\nfunction handleWhitelist(action, actionWhitelist) {\n  if (Array.isArray(actionWhitelist)) {\n    return actionWhitelist.length === 0 ? true // Don't filter if the whitelist is empty\n    : actionWhitelist.indexOf(action.type) !== -1;\n  } // actionWhitelist is a function that returns true or false\n\n\n  return actionWhitelist(action);\n}\n\nexports['default'] = function (engine) {\n  var actionBlacklist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var actionWhitelist = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : []; // Also don't save if we process our own actions\n\n  var blacklistedActions = [].concat(_toConsumableArray(actionBlacklist), [_constants.LOAD, _constants.SAVE]);\n\n  if (process.env.NODE_ENV !== 'production' && Array.isArray(actionWhitelist)) {\n    warnAboutConfusingFiltering(actionBlacklist, actionWhitelist);\n  }\n\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        var result = next(action);\n\n        if (!isValidAction(action)) {\n          return result;\n        }\n\n        var isOnBlacklist = blacklistedActions.indexOf(action.type) !== -1;\n        var isOnWhitelist = handleWhitelist(action, actionWhitelist); // Skip blacklisted actions\n\n        if (!isOnBlacklist && isOnWhitelist) {\n          (function () {\n            var saveState = getState();\n            var saveAction = (0, _actions.save)(saveState);\n\n            if (process.env.NODE_ENV !== 'production') {\n              if (!saveAction.meta) {\n                saveAction.meta = {};\n              }\n\n              saveAction.meta.origin = action;\n            }\n\n            var dispatchSave = function dispatchSave() {\n              return dispatch(saveAction);\n            };\n\n            engine.save(saveState).then(dispatchSave)['catch'](swallow);\n          })();\n        }\n\n        return result;\n      };\n    };\n  };\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","_lodash","require","_lodash2","_interopRequireDefault","_lodash3","_lodash4","_actions","_constants","obj","__esModule","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","swallow","warnAboutConfusingFiltering","blacklist","whitelist","filter","item","indexOf","forEach","console","warn","isValidAction","action","isFunc","isObj","hasType","hasOwnProperty","process","env","NODE_ENV","handleWhitelist","actionWhitelist","type","engine","actionBlacklist","arguments","undefined","blacklistedActions","concat","LOAD","SAVE","_ref","dispatch","getState","next","result","isOnBlacklist","isOnWhitelist","saveState","saveAction","save","meta","origin","dispatchSave","then"],"sources":["/home/jackculley/VSCode/machineLearningPrac/frontend/react-app/node_modules/redux-storage/build/createMiddleware.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _lodash = require('lodash.isfunction');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _lodash3 = require('lodash.isobject');\n\nvar _lodash4 = _interopRequireDefault(_lodash3);\n\nvar _actions = require('./actions');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction swallow() {}\n\nfunction warnAboutConfusingFiltering(blacklist, whitelist) {\n    blacklist.filter(function (item) {\n        return whitelist.indexOf(item) !== -1;\n    }).forEach(function (item) {\n        console.warn( // eslint-disable-line no-console\n        '[redux-storage] Action ' + item + ' is on BOTH black- and whitelist.' + ' This is most likely a mistake!');\n    });\n}\n\nfunction isValidAction(action) {\n    var isFunc = (0, _lodash2['default'])(action);\n    var isObj = (0, _lodash4['default'])(action);\n    var hasType = isObj && action.hasOwnProperty('type');\n\n    if (!isFunc && isObj && hasType) {\n        return true;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n        if (isFunc) {\n            console.warn( // eslint-disable-line no-console\n            '[redux-storage] ACTION IGNORED! Actions should be objects' + ' with a type property but received a function! Your' + ' function resolving middleware (e.g. redux-thunk) must be' + ' placed BEFORE redux-storage!');\n        } else if (!isObj) {\n            console.warn( // eslint-disable-line no-console\n            '[redux-storage] ACTION IGNORED! Actions should be objects' + (' with a type property but received: ' + action));\n        } else if (!hasType) {\n            console.warn( // eslint-disable-line no-console\n            '[redux-storage] ACTION IGNORED! Action objects should have' + ' a type property.');\n        }\n    }\n\n    return false;\n}\n\nfunction handleWhitelist(action, actionWhitelist) {\n    if (Array.isArray(actionWhitelist)) {\n        return actionWhitelist.length === 0 ? true // Don't filter if the whitelist is empty\n        : actionWhitelist.indexOf(action.type) !== -1;\n    }\n\n    // actionWhitelist is a function that returns true or false\n    return actionWhitelist(action);\n}\n\nexports['default'] = function (engine) {\n    var actionBlacklist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var actionWhitelist = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    // Also don't save if we process our own actions\n    var blacklistedActions = [].concat(_toConsumableArray(actionBlacklist), [_constants.LOAD, _constants.SAVE]);\n\n    if (process.env.NODE_ENV !== 'production' && Array.isArray(actionWhitelist)) {\n        warnAboutConfusingFiltering(actionBlacklist, actionWhitelist);\n    }\n\n    return function (_ref) {\n        var dispatch = _ref.dispatch,\n            getState = _ref.getState;\n\n        return function (next) {\n            return function (action) {\n                var result = next(action);\n\n                if (!isValidAction(action)) {\n                    return result;\n                }\n\n                var isOnBlacklist = blacklistedActions.indexOf(action.type) !== -1;\n                var isOnWhitelist = handleWhitelist(action, actionWhitelist);\n\n                // Skip blacklisted actions\n                if (!isOnBlacklist && isOnWhitelist) {\n                    (function () {\n                        var saveState = getState();\n                        var saveAction = (0, _actions.save)(saveState);\n\n                        if (process.env.NODE_ENV !== 'production') {\n                            if (!saveAction.meta) {\n                                saveAction.meta = {};\n                            }\n                            saveAction.meta.origin = action;\n                        }\n\n                        var dispatchSave = function dispatchSave() {\n                            return dispatch(saveAction);\n                        };\n                        engine.save(saveState).then(dispatchSave)['catch'](swallow);\n                    })();\n                }\n\n                return result;\n            };\n        };\n    };\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}